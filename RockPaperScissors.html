<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=<script>>, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <h1>Rock, Paper, Scissors</h1>

    <p>Play a game. Pick a lane. Punch your way to fame.</p>

    <h2 id = 'winner'></h2>

    <div>
        <h2>Scoreboard</h2>
        <h3 id = 'playerScore'>Player: </h3>
        <h3 id = 'computerScore'>Computer: </h3>
    </div>

    <div>
        <button class = 'btn' id = 'rock'>Rock</button>
        <button class = 'btn' id = 'paper'>Paper</button>
        <button class = 'btn' id = 'scissors'>Scissors</button>
    </div>

    <script>
        
        let player = '';
        let computer = '';
        let playerScore = 0;
        let computerScore = 0;

        let rock = document.querySelector('#rock');
        rock.addEventListener('click', () => {
            
            player = 'Rock';
            computer = computerPlay();

            duel(player, computer);

            checkWinner(5);
        })

        let paper = document.querySelector('#paper');
        paper.addEventListener('click', () => {
            
            player = 'Paper';
            computer = computerPlay();

            duel(player, computer);

            checkWinner(5);
        })

        let scissors = document.querySelector('#scissors');
        scissors.addEventListener('click', () => {
            
            player = 'Scissors';
            computer = computerPlay();

            duel(player, computer);

            checkWinner(5);
        })

        function checkWinner(end)
        {
            if (playerScore == end)
            {
                let winner = document.querySelector('#winner');
                winner.textContent = "Player wins the game!";    
            }
            if (computerScore == end)
            {
                let winner = document.querySelector('#winner');
                winner.textContent = "Computer wins the game!";
            }
        }

        function duel(player, computer)
        {
            let win = playRound(player, computer);

            if (win == true) 
            {
                playerScore++;
                document.getElementById('playerScore').innerHTML = "Player: " + playerScore;
                document.getElementById('winner').textContent = `Player wins the round! ${player} beats ${computer}!`;
            }
            else if (win == false)
            {
                computerScore++;
                document.getElementById('computerScore').innerHTML = "Computer: " + computerScore;
                document.getElementById('winner').textContent = `Computer wins the round! ${computer} beats ${player}!`;
            }
            else if (win === null)
            {
                document.getElementById('winner').textContent = `Draw!`;
            }
        }

        function playRound(playerSelection, computerSelection)
        {
            let win = null;
            let playerUpper = playerSelection.toUpperCase();
            let computerUpper = computerSelection.toUpperCase();
            
            if (playerUpper == "ROCK")
            {
                if (computerUpper == "SCISSORS")
                {
                    win = true;
                } 
                else if (computerUpper == "PAPER")
                {
                    win = false;
                }
                else if (computerUpper == "ROCK")
                {
                    win = null;
                }
            }
            else if (playerUpper == "SCISSORS")
            {
                if (computerUpper == "SCISSORS")
                {
                    win = null;
                } 
                else if (computerUpper == "PAPER")
                {
                    win = true;
                }
                else if (computerUpper == "ROCK")
                {
                    win = false;
                }
            }
            else if (playerUpper == "PAPER")
            {
                if (computerUpper == "SCISSORS")
                {
                    win = false;
                } 
                else if (computerUpper == "PAPER")
                {
                    win = null;
                }
                else if (computerUpper == "ROCK")
                {
                    win = true;
                }
            }

            return win;
        }

        function computerPlay() 
        {
            let computerAnswer;
            let num = Math.floor(Math.random()*3) + 1;

            if (num == 1)
            {
                computerAnswer = "Rock";
            }
            else if (num == 2)
            {
                computerAnswer = "Paper";
            }
            else if (num == 3)
            {
                computerAnswer = "Scissors";
            }

            return computerAnswer;
        }

    </script>
</body>
</html>