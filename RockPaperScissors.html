<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=<script>>, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        
        game();

        function game()
        {
            let round = 0;
            let numRounds = 5
            let playerScore = 0;
            let computerScore = 0;

            while (round < numRounds)
            {
                let playerSelection = promptUser();
                let computerSelection = computerPlay();

                let win = playRound(playerSelection.toUpperCase(), computerSelection.toUpperCase());

                if (win == null)
                {
                    // do nothing
                }
                else if (win == true)
                {
                    round++;
                    playerScore++;
                    console.log(`You win! ${playerSelection} beats ${computerSelection}!`);
                }
                else if (win == false)
                {
                    round++;
                    computerScore++;
                    console.log(`You lose! ${computerSelection} beats ${playerSelection}!`);
                }
            }

            console.log(`User score: ${playerScore}`);
            console.log(`Computer score: ${computerScore}`);

            let str = (playerScore > computerScore) ? "User wins!" : "Computer wins!";
            console.log(str);
        }

        function playRound(playerSelection, computerSelection)
        {
            let win = null;
            
            if (playerSelection == "ROCK")
            {
                if (computerSelection == "SCISSORS")
                {
                    win = true;
                } 
                else if (computerSelection == "PAPER")
                {
                    win = false;
                }
                else if (computerSelection == "ROCK")
                {
                    win = null;
                }
            }
            if (playerSelection == "SCISSORS")
            {
                if (computerSelection == "SCISSORS")
                {
                    win = null;
                } 
                else if (computerSelection == "PAPER")
                {
                    win = true;
                }
                else if (computerSelection == "ROCK")
                {
                    win = false;
                }
            }
            if (playerSelection == "PAPER")
            {
                if (computerSelection == "SCISSORS")
                {
                    win = false;
                } 
                else if (computerSelection == "PAPER")
                {
                    win = null;
                }
                else if (computerSelection == "ROCK")
                {
                    win = true;
                }
            }

            return win;
        }
        
        function promptUser() 
        {
            let userAnswer = "";
            let userUpperCase = "";

            do 
            {
                userAnswer = prompt("Rock, Paper or Scissors?");
                userUpperCase = userAnswer.toUpperCase();

                console.log(userUpperCase);

                if (userUpperCase !== "ROCK" && 
                    userUpperCase !== "SCISSORS" && 
                    userUpperCase !== "PAPER")
                {
                    alert("Please select valid answer.");
                }
            }
            while (userUpperCase !== "ROCK" && 
                    userUpperCase !== "SCISSORS" &&
                    userUpperCase !== "PAPER");
        
            return userAnswer;
        }

        function computerPlay() 
        {
            let computerAnswer;
            let num = Math.floor(Math.random()*3) + 1;

            if (num == 1)
            {
                computerAnswer = "Rock";
            }
            else if (num == 2)
            {
                computerAnswer = "Paper";
            }
            else if (num == 3)
            {
                computerAnswer = "Scissors";
            }

            return computerAnswer;
        }

    </script>
</body>
</html>